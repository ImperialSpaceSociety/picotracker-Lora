/* generated by Medad Newman 27/12/19
	The following coordinates are autogenerated from a kml file containing all the polygons.
*/

#ifndef GEOFENCE_H
#define GEOFENCE_H


#include "stdint.h"


/* These are the fence polygons. There are several 
 * polygons that have the same frequency names */

// GEOFENCE ARRAYS (longitude, latitude)
static float EU863870_1F[] = {
-45.7287364,84.0038050,
-71.7315531,78.3085111,
-65.0190278,72.2973983,
-45.2421795,53.9341202,
-34.5464934,49.3468850,
-40.9922666,34.9446894,
-38.1788065,29.8050052,
-33.8762703,24.5045362,
-26.2022295,10.6191001,
-19.2178015,11.5195884,
-16.6460877,23.5436248,
-5.9342805,35.6731395,
0.1669963,37.1633690,
6.5181375,38.2608373,
12.9441466,34.4080072,
20.8296879,35.1441426,
32.7537672,33.4609566,
44.9537997,36.8923542,
50.3794322,35.7974729,
55.3904590,35.6642084,
67.9950321,38.0758266,
94.1594651,53.2726852,
113.4392252,49.5273613,
120.4977319,54.2357807,
154.0497072,45.0874170,
177.5683870,70.1098419,
98.6572202,75.3344650,
-45.7287364,84.0038050,

};

static float EU863870_2F[] = {
10.3722165,-4.8686219,
6.3736931,-16.4863800,
6.2378701,-23.4395296,
8.7051075,-30.4425483,
18.7590899,-37.7192112,
35.5444862,-38.0271958,
70.4056882,-22.9241624,
65.2288444,-3.1460028,
56.3551549,3.5689571,
47.1226547,4.3671938,
35.3811338,5.8668604,
28.4907836,5.1586230,
23.2586623,5.8268393,
19.1239817,5.5704702,
18.2844087,1.8864996,
15.6004968,-2.0652836,
14.8972164,-2.8109436,
10.3722165,-4.8686219,

};

static float EU863870_3F[] = {
50.4480346,26.3415916,
50.3409179,26.0335100,
50.5414184,25.7097700,
50.7364257,26.0162333,
50.7160276,26.3587784,
50.4480346,26.3415916,

};

static float EU863870_4F[] = {
119.3532577,19.4762086,
115.4860702,9.9680758,
118.2546249,7.1001120,
123.3962264,4.0388331,
132.1413436,5.0026107,
127.3513046,19.5590489,
119.3532577,19.4762086,

};

static float EU863870_5F[] = {
38.0779396,32.5019912,
34.1228615,28.8750915,
40.3630959,17.1739761,
42.5603615,15.0632263,
50.6462990,17.5095573,
56.6228615,20.7474977,
56.9744240,25.3555562,
38.0779396,32.5019912,

};

static float US902928_1F[] = {
-168.7027336,73.3247732,
-173.1448696,55.5924093,
-136.5689581,-9.9756255,
-73.0107832,-60.5153307,
-76.4988889,-44.5032079,
-70.8809439,-17.0850458,
-67.4910270,-22.9178491,
-57.6882310,-19.3140056,
-68.9076353,4.4069495,
-51.1832733,5.6471104,
-43.9045046,53.5590989,
-71.8448561,72.1269313,
-73.6692555,78.9070046,
-51.5281666,84.2636205,
-109.2631073,84.5056696,
-168.7027336,73.3247732,

};

static float AS923925_1F[] = {
114.0640018,4.8983103,
114.5254275,3.9508360,
115.4675052,4.2658809,
115.1818606,5.0679547,
114.7341678,5.2539650,
114.0640018,4.8983103,

};

static float AS923925_2F[] = {
111.7282640,21.9729270,
115.4416429,19.2793370,
122.7365648,20.7451480,
123.2057036,26.1999295,
121.8076408,26.3813922,
115.4196703,23.9353783,
111.7282640,21.9729270,

};

static float AS923925_3F[] = {
92.0169202,5.8666595,
103.0032483,-10.4129187,
120.5813733,-11.6206873,
128.3157483,-9.5473208,
139.5657483,-9.7206230,
141.3235608,3.5894313,
122.5149671,3.7648506,
117.7688733,3.9402345,
112.4951822,1.3906296,
108.4047957,-0.4838578,
104.4552393,-0.2570645,
98.0962322,4.8767452,
94.8832664,7.3009018,
92.0169202,5.8666595,

};

static float AS923925_4F[] = {
98.9064259,12.7547087,
97.0826954,7.0209871,
100.1588672,6.4318115,
106.2452930,5.2952303,
112.5734180,9.9328298,
110.9061203,16.6259274,
106.2452930,23.3490264,
101.6062205,22.8141678,
97.2437272,19.1817000,
98.0005430,15.8430113,
98.9064259,12.7547087,

};

static float US902928_2F[] = {
-67.4910270,-22.9178491,
-70.2831558,-31.7501663,
-71.6015152,-45.9691318,
-72.2167496,-51.9060159,
-66.7675308,-55.4436887,
-55.5175308,-36.2651328,
-52.2681241,-32.3461320,
-57.1899991,-30.6979608,
-57.6882310,-19.3140056,
-67.4910270,-22.9178491,

};

static float AU915928_1F[] = {
-68.9076353,4.4069495,
-57.6882310,-19.3140056,
-57.1899991,-30.6979608,
-52.2681241,-32.3461320,
-32.6959318,-31.8401321,
-29.7681241,-6.0788841,
-51.1832733,5.6471104,
-68.9076353,4.4069495,

};

static float AU915928_2F[] = {
-70.8809439,-17.0850458,
-76.4988889,-44.5032079,
-73.0107832,-60.5153307,
-66.7675308,-55.4436887,
-72.2167496,-51.9060159,
-70.2831558,-31.7501663,
-67.4910270,-22.9178491,
-70.8809439,-17.0850458,

};

static float CN470510_1F[] = {
82.2920464,48.5487533,
67.8779839,37.8264390,
82.8633355,29.6729628,
87.8954659,26.8008536,
96.7061089,29.0409858,
108.6592339,20.4313272,
110.8082826,20.9983514,
116.2039299,24.1611669,
121.3154839,26.2384317,
122.3701714,36.7073507,
136.0811089,45.1852819,
135.3779839,50.8227268,
120.6123589,54.6510762,
114.9873589,49.6990398,
98.1123589,53.6213101,
82.2920464,48.5487533,

};

static float IN865867_1F[] = {
72.9657956,34.2669858,
66.7255612,23.1966786,
75.1630612,4.1664689,
82.8542146,2.3938282,
85.7099362,6.9654249,
90.3681394,21.2440800,
87.8954659,26.8008536,
72.9657956,34.2669858,

};

static float AS920923_1F[] = {
139.6865360,45.9589978,
139.3349735,45.5296526,
127.5576297,32.4822181,
131.9521610,27.3037206,
144.7841922,33.9527243,
150.4970829,45.3446366,
139.6865360,45.9589978,

};

static float KR920923_1F[] = {
124.5298130,38.1546136,
124.1782505,32.7163257,
127.4302036,32.0483253,
130.6821568,37.1806384,
130.1987583,40.7665752,
124.5298130,38.1546136,

};

static float AS920923_2F[] = {
97.2668300,6.6766567,
99.2730530,3.8564705,
102.2217995,1.3048669,
104.3455137,-0.0655291,
108.4393474,-0.3445660,
110.2306972,0.6712956,
114.9767909,2.2527615,
119.3273769,4.7089694,
116.9543300,7.6359107,
115.1818606,5.0679547,
115.4675052,4.2658809,
114.5254275,3.9508360,
114.0640018,4.8983103,
102.0129237,5.9778191,
97.2668300,6.6766567,

};

static float AU915928_3F[] = {
122.8931003,-39.3676696,
140.0391417,-46.8929932,
153.2707224,-44.5239753,
169.3710742,-54.0764423,
179.4698290,-48.4690755,
179.6330579,-38.4214009,
171.9292411,-16.9122195,
148.1277453,-14.4354985,
141.1408332,-8.4325414,
124.4315905,-12.0587970,
111.6345502,-21.9132192,
113.4859822,-35.7686843,
122.8931003,-39.3676696,

};

/* Defining the frequencies to transmit on. Currently holding dummy values
 * I think there has to be a list of frequencies instead, because it has 
 * to try all
 */

typedef enum
{
  EU863870    = 0x00U,
  AU915928    = 0x01U,
  US902928    = 0x02U,
  KR920923    = 0x03U,
	IN865867    = 0x03U,
	AS920923		= 0x03U,
	CN470510		= 0x03U,
	AS923925		= 0x03U,
	
} LoRa_FREQUENCIES;


// VARIABLES
extern uint32_t GEOFENCE_LoRa_frequency; 
extern uint32_t GEOFENCE_no_tx;



// FUNCTIONS
int32_t pointInPolygon(int32_t polyCorners, int32_t * polygon, int32_t latitude, int32_t longitude);
int32_t pointInPolygonF(int32_t polyCorners, float * polygon, float latitude, float longitude);
void GEOFENCE_position(float latitude, float longitude);

void doit(void); // dummy function to force the compiler to compile all the polygons to see their memory footprint


#endif 
